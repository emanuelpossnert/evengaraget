(()=>{var e={};e.id=95,e.ids=[95],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16355:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=s(50482),r=s(69108),n=s(62563),i=s.n(n),l=s(68300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["dashboard",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,30782)),"/Users/emanuelpossnert/Documents/Dev projects/Eventgaraget/crm-dashboard/app/dashboard/products/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,96339)),"/Users/emanuelpossnert/Documents/Dev projects/Eventgaraget/crm-dashboard/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,82917)),"/Users/emanuelpossnert/Documents/Dev projects/Eventgaraget/crm-dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/emanuelpossnert/Documents/Dev projects/Eventgaraget/crm-dashboard/app/dashboard/products/page.tsx"],p="/dashboard/products/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/products/page",pathname:"/dashboard/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},27645:(e,t,s)=>{Promise.resolve().then(s.bind(s,85114))},85114:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(95344),r=s(3729),n=s(27984),i=s(96885),l=s(51838),d=s(28765),o=s(85524),c=s(20439),p=s(26075),x=s(38271),m=s(14513);function u(){let[e,t]=(0,r.useState)([]),[s,u]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[f,j]=(0,r.useState)(!0),[_,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[k,q]=(0,r.useState)(null),[S,C]=(0,r.useState)([]),[E,P]=(0,r.useState)(!1),[z,K]=(0,r.useState)("cards"),[M,L]=(0,r.useState)(""),[Z,O]=(0,r.useState)(""),[T,A]=(0,r.useState)({name:"",category:"",description:"",base_price_per_day:"",min_rental_days:"1",quantity_total:"1",quantity_available:"1",requires_setup:!1,setup_cost:"",can_be_wrapped:!1,wrapping_cost:"",image_url:"",specifications:""}),[D,I]=(0,r.useState)(new Map);(0,r.useEffect)(()=>{U()},[]),(0,r.useEffect)(()=>{let t=e;M&&(t=t.filter(e=>e.name.toLowerCase().includes(M.toLowerCase())||e.category.toLowerCase().includes(M.toLowerCase())||e.description?.toLowerCase().includes(M.toLowerCase()))),u(t)},[M,e]),(0,r.useEffect)(()=>{let e=g;Z&&(e=e.filter(e=>e.name.toLowerCase().includes(Z.toLowerCase())||e.category?.toLowerCase().includes(Z.toLowerCase())||e.description?.toLowerCase().includes(Z.toLowerCase()))),b(e)},[Z,g]);let U=async()=>{try{j(!0);let{data:e,error:s}=await n.O.from("products").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[]);let{data:a,error:r}=await n.O.from("addons").select("*").order("name",{ascending:!0});if(r)throw r;h(a||[])}catch(e){console.error("Error fetching data:",e)}finally{j(!1)}},$=async e=>{try{let{data:t,error:s}=await n.O.from("product_addons").select(`
          id,
          addon_id,
          display_order,
          is_mandatory,
          addons(*)
          `).eq("product_id",e).order("display_order",{ascending:!0});if(s)throw s;C(t||[]);let a=new Map;t?.forEach(e=>{e.addons&&a.set(e.addon_id,{addon:e.addons,is_mandatory:e.is_mandatory,display_order:e.display_order})}),I(a)}catch(e){console.error("Error fetching product addons:",e)}},G=e=>{let{name:t,value:s,type:a}=e.target,r=e.target.checked;A({...T,[t]:"checkbox"===a?r:s})},V=async e=>{e.preventDefault();try{let e={name:T.name,category:T.category,description:T.description,base_price_per_day:parseFloat(T.base_price_per_day),min_rental_days:parseInt(T.min_rental_days),quantity_total:parseInt(T.quantity_total),quantity_available:parseInt(T.quantity_available),requires_setup:T.requires_setup,setup_cost:T.requires_setup?parseFloat(T.setup_cost):0,can_be_wrapped:T.can_be_wrapped,wrapping_cost:T.can_be_wrapped?parseFloat(T.wrapping_cost):0,image_url:T.image_url||null,specifications:T.specifications?JSON.parse(T.specifications):null},t=N;if(N){let{error:t}=await n.O.from("products").update(e).eq("id",N);if(t)throw t}else{let{data:s,error:a}=await n.O.from("products").insert([e]).select();if(a)throw a;t=s?.[0]?.id}if(t&&D.size>0){await n.O.from("product_addons").delete().eq("product_id",t);let e=Array.from(D.entries()).map(([e],s)=>({product_id:t,addon_id:e,display_order:s+1,is_mandatory:D.get(e)?.is_mandatory||!1})),{error:s}=await n.O.from("product_addons").insert(e);if(s)throw s}A({name:"",category:"",description:"",base_price_per_day:"",min_rental_days:"1",quantity_total:"1",quantity_available:"1",requires_setup:!1,setup_cost:"",can_be_wrapped:!1,wrapping_cost:"",image_url:"",specifications:""}),I(new Map),v(!1),w(null),U()}catch(e){console.error("Error saving product:",e),alert("Kunde inte spara produkt: "+e.message)}},B=e=>{A({name:e.name,category:e.category,description:e.description,base_price_per_day:e.base_price_per_day.toString(),min_rental_days:e.min_rental_days.toString(),quantity_total:e.quantity_total.toString(),quantity_available:e.quantity_available.toString(),requires_setup:e.requires_setup,setup_cost:e.setup_cost.toString(),can_be_wrapped:e.can_be_wrapped,wrapping_cost:e.wrapping_cost.toString(),image_url:e.image_url||"",specifications:e.specifications?JSON.stringify(e.specifications,null,2):""}),w(e.id),v(!0)},J=async e=>{if(confirm("\xc4r du s\xe4ker p\xe5 att du vill ta bort denna produkt?"))try{let{error:t}=await n.O.from("products").delete().eq("id",e);if(t)throw t;U()}catch(e){console.error("Error deleting product:",e)}},R=e=>{let t=new Map(D);t.has(e.id)?t.delete(e.id):t.set(e.id,{addon:e,is_mandatory:!1,display_order:t.size+1}),I(t)},F=e=>{let t=new Map(D),s=t.get(e);s&&(s.is_mandatory=!s.is_mandatory,t.set(e,s),I(t))};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Produkter & Prislista"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Hantera produkter, priser och tillkopplade addons"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>{let e=[["Produktnamn","Kategori","Pris/dag (SEK)","Min hyrtid","Total lager","Tillg\xe4nglig","Setup","Wrapping"],...s.map(e=>[e.name,e.category,e.base_price_per_day,e.min_rental_days,e.quantity_total,e.quantity_available,e.requires_setup?`Ja (${e.setup_cost} SEK)`:"Nej",e.can_be_wrapped?`Ja (${e.wrapping_cost} SEK)`:"Nej"])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download",`produkter-${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"flex items-center gap-2 bg-blue-50 text-blue-600 px-6 py-3 rounded-lg hover:bg-blue-100 transition-colors font-semibold",children:[a.jsx(i.Z,{size:18}),"CSV"]}),(0,a.jsxs)("button",{onClick:()=>{A({name:"",category:"",description:"",base_price_per_day:"",min_rental_days:"1",quantity_total:"1",quantity_available:"1",requires_setup:!1,setup_cost:"",can_be_wrapped:!1,wrapping_cost:"",image_url:"",specifications:""}),I(new Map),w(null),v(!0)},className:"flex items-center gap-2 bg-gradient-to-r from-red-600 to-orange-600 text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all font-semibold",children:[a.jsx(l.Z,{size:20}),"Ny Produkt"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(d.Z,{size:20}),a.jsx("input",{type:"text",placeholder:"S\xf6k produkter efter namn, kategori eller beskrivning...",value:M,onChange:e=>L(e.target.value),className:"flex-1 border-0 focus:outline-none text-gray-900"})]})}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)("button",{onClick:()=>K("cards"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${"cards"===z?"bg-gradient-to-r from-red-600 to-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(o.Z,{size:18}),"Kort"]}),(0,a.jsxs)("button",{onClick:()=>K("table"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${"table"===z?"bg-gradient-to-r from-red-600 to-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(c.Z,{size:18}),"Tabell"]})]})]}),f?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Laddar produkter..."}):0===s.length?a.jsx("div",{className:"text-center py-12 text-gray-500",children:M?"Inga produkter motsvarar din s\xf6kning":"Inga produkter \xe4n. Skapa den f\xf6rsta!"}):"cards"===z?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200 flex flex-col shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.category})]})}),e.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 p-3 rounded-lg mb-4",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Pris per dag"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:[e.base_price_per_day," SEK"]}),e.min_rental_days>1&&(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Min. ",e.min_rental_days," dag(ar)"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),a.jsx("p",{className:"font-semibold text-blue-600",children:e.quantity_total})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-2 rounded",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Tillg\xe4nglig"}),a.jsx("p",{className:"font-semibold text-green-600",children:e.quantity_available})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4 text-xs",children:[e.requires_setup&&(0,a.jsxs)("p",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded",children:["Setup: ",e.setup_cost," SEK"]}),e.can_be_wrapped&&(0,a.jsxs)("p",{className:"bg-orange-50 text-orange-700 px-2 py-1 rounded",children:["Foliering: ",e.wrapping_cost," SEK"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-auto",children:[a.jsx("button",{onClick:()=>{q(e),$(e.id),P(!0)},className:"flex-1 bg-blue-50 text-blue-600 py-2 rounded-lg hover:bg-blue-100 transition-colors font-semibold text-sm",children:"Addons"}),(0,a.jsxs)("button",{onClick:()=>B(e),className:"flex-1 bg-yellow-50 text-yellow-600 py-2 rounded-lg hover:bg-yellow-100 transition-colors font-semibold text-sm",children:[a.jsx(p.Z,{size:16,className:"inline mr-1"}),"Redigera"]}),a.jsx("button",{onClick:()=>J(e.id),className:"flex-1 bg-red-50 text-red-600 py-2 rounded-lg hover:bg-red-100 transition-colors font-semibold text-sm",children:a.jsx(x.Z,{size:16,className:"inline"})})]})]},e.id))}):a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produktnamn"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pris/dag"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lager"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tj\xe4nster"}),a.jsx("th",{scope:"col",className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"\xc5tg\xe4rder"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.description?.substring(0,40)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.category})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[e.base_price_per_day," SEK"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.quantity_available,"/",e.quantity_total]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsxs)("div",{className:"flex gap-1 justify-center",children:[e.requires_setup&&a.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:"Setup"}),e.can_be_wrapped&&a.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded",children:"Wrap"})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>{q(e),$(e.id),P(!0)},className:"text-blue-600 hover:text-blue-900 mr-3",children:"Addons"}),a.jsx("button",{onClick:()=>B(e),className:"text-yellow-600 hover:text-yellow-900 mr-3",children:a.jsx(p.Z,{size:16,className:"inline"})}),a.jsx("button",{onClick:()=>J(e.id),className:"text-red-600 hover:text-red-900",children:a.jsx(x.Z,{size:16,className:"inline"})})]})]},e.id))})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:N?"Redigera Produkt":"Ny Produkt"}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(m.Z,{size:24})})]}),(0,a.jsxs)("form",{onSubmit:V,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bas Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Produktnamn *"}),a.jsx("input",{type:"text",name:"name",value:T.name,onChange:G,required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Ex: Grillstation"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori *"}),(0,a.jsxs)("select",{name:"category",value:T.category,onChange:G,required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"V\xe4lj kategori"}),a.jsx("option",{value:"T\xe4lt",children:"T\xe4lt"}),a.jsx("option",{value:"M\xf6bler",children:"M\xf6bler"}),a.jsx("option",{value:"Grill",children:"Grill"}),a.jsx("option",{value:"Belysning",children:"Belysning"}),a.jsx("option",{value:"V\xe4rme",children:"V\xe4rme"}),a.jsx("option",{value:"\xd6vrigt",children:"\xd6vrigt"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bild URL"}),a.jsx("input",{type:"url",name:"image_url",value:T.image_url,onChange:G,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://..."})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beskrivning"}),a.jsx("textarea",{name:"description",value:T.description,onChange:G,rows:3,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Produktbeskrivning..."})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Priser"}),a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pris per dag (SEK) *"}),a.jsx("input",{type:"number",name:"base_price_per_day",value:T.base_price_per_day,onChange:G,required:!0,step:"0.01",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min. hyrtid (dagar)"}),a.jsx("input",{type:"number",name:"min_rental_days",value:T.min_rental_days,onChange:G,min:"1",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lager"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total antal *"}),a.jsx("input",{type:"number",name:"quantity_total",value:T.quantity_total,onChange:G,required:!0,min:"1",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tillg\xe4ngligt nu *"}),a.jsx("input",{type:"number",name:"quantity_available",value:T.quantity_available,onChange:G,required:!0,min:"0",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tj\xe4nster"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"requires_setup",checked:T.requires_setup,onChange:G,className:"w-4 h-4 text-red-600 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Kr\xe4ver setup/montering?"})]}),T.requires_setup&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setup kostnad (SEK)"}),a.jsx("input",{type:"number",name:"setup_cost",value:T.setup_cost,onChange:G,step:"0.01",className:"w-full border border-gray-300 rounded-lg p-2",placeholder:"0"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"can_be_wrapped",checked:T.can_be_wrapped,onChange:G,className:"w-4 h-4 text-red-600 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Kan folieras/brandas?"})]}),T.can_be_wrapped&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folieringskostnad (SEK)"}),a.jsx("input",{type:"number",name:"wrapping_cost",value:T.wrapping_cost,onChange:G,step:"0.01",className:"w-full border border-gray-300 rounded-lg p-2",placeholder:"0"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tekniska Detaljer"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specifikationer (JSON)"}),a.jsx("textarea",{name:"specifications",value:T.specifications,onChange:G,rows:4,className:"w-full border border-gray-300 rounded-lg p-2 font-mono text-xs focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:'{"l\xe4ngd": "5m", "bredd": "3m"}'}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valfritt JSON-format f\xf6r tekniska specifikationer"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kopplade Addons"}),g.length>5&&a.jsx("div",{className:"mb-4 relative",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 bg-white border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx(d.Z,{size:18}),a.jsx("input",{type:"text",placeholder:"S\xf6k addons...",value:Z,onChange:e=>O(e.target.value),className:"flex-1 border-0 focus:outline-none text-gray-900"})]})}),D.size>0&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-green-900 mb-2",children:[D.size," addon",1!==D.size?"s":""," vald",1!==D.size?"a":"",":"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(D.values()).map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:[e.addon.name,e.is_mandatory&&a.jsx("span",{className:"font-bold",children:"*"})]},e.addon.id))})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:y.map(e=>(0,a.jsxs)("label",{className:"flex items-start space-x-2 cursor-pointer p-3 border rounded-lg hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:D.has(e.id),onChange:()=>R(e),className:"w-4 h-4 text-red-600 rounded mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-xs text-gray-600",children:e.category}),(0,a.jsxs)("p",{className:"text-xs text-red-600 font-semibold",children:[e.price," SEK"]})]})]},e.id))}),0===y.length&&g.length>0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Inga addons motsvarar din s\xf6kning"}),0===g.length&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Inga addons tillg\xe4ngliga. Skapa dem f\xf6rst p\xe5 Addons-sidan!"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 border-t pt-6",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Avbryt"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg hover:shadow-lg transition-all",children:N?"Uppdatera":"Skapa"})]})]})]})}),E&&k&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[(0,a.jsxs)("div",{className:"border-b p-6 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Addons f\xf6r ",k.name]}),a.jsx("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(m.Z,{size:24})})]}),a.jsx("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:g.map(e=>{let t=D.has(e.id),s=D.get(e.id);return(0,a.jsxs)("div",{className:`p-4 border rounded-lg ${t?"border-red-500 bg-red-50":"border-gray-200 bg-white"}`,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:"flex-1",children:(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer mb-2",children:[a.jsx("input",{type:"checkbox",checked:t,onChange:()=>R(e),className:"w-4 h-4 text-red-600 rounded"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]})}),(0,a.jsxs)("p",{className:"text-lg font-bold text-red-600",children:[e.price," SEK"]})]}),t&&a.jsx("div",{className:"ml-7 space-y-3",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s?.is_mandatory||!1,onChange:()=>F(e.id),className:"w-4 h-4 text-orange-600 rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Obligatorisk f\xf6r denna produkt?"})]})})]},e.id)})}),a.jsx("div",{className:"border-t p-6 flex justify-end gap-3",children:a.jsx("button",{onClick:()=>P(!1),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"St\xe4ng"})})]})})]})}},26075:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},38271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},14513:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},30782:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`/Users/emanuelpossnert/Documents/Dev projects/Eventgaraget/crm-dashboard/app/dashboard/products/page.tsx`),{__esModule:r,$$typeof:n}=a,i=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,356,880,934,273],()=>s(16355));module.exports=a})();